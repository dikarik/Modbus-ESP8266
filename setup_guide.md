# Руководство по настройке проекта Modbus ESP8266

## Подготовка среды разработки

1. Установите Arduino IDE с официального сайта: https://www.arduino.cc/en/software

2. Добавьте поддержку ESP8266:
   - Откройте Arduino IDE
   - Перейдите в Файл → Настройки
   - В поле "Дополнительные ссылки для менеджера плат" добавьте:
     `http://arduino.esp8266.com/stable/package_esp8266com_index.json`
   - Перейдите в Инструменты → Плата → Менеджер плат
   - Найдите и установите "esp8266"

3. Установите необходимые библиотеки:
   - Перейдите в Скетч → Подключить библиотеку → Управлять библиотеками
   - Найдите и установите:
     - ModbusIP_ESP8266

## Настройка проекта

1. Откройте файл `src/modbus.ino` в Arduino IDE

2. Измените параметры Wi-Fi:
   ```cpp
   const char* ssid = "ваш_ssid";
   const char* password = "ваш_пароль";
   ```

3. Проверьте настройки подключения:
   - Убедитесь, что ваша сеть Wi-Fi доступна для ESP8266
   - Запишите IP-адрес, который будет назначен ESP8266

## Загрузка кода

1. Подключите ESP8266 к компьютеру через USB

2. В Arduino IDE выберите:
   - Плата: "Generic ESP8266 Module"
   - Порт: соответствующий COM-порт

3. Нажмите кнопку "Загрузить"

## Проверка работы

1. Откройте монитор порта (Серийный монитор) в Arduino IDE

2. После загрузки вы должны увидеть сообщения о подключении к Wi-Fi:
   ```
   Connecting to WiFi....
   WiFi Connected!
   IP Address: 192.168.x.x
   ```

3. Используйте SCADA систему для подключения к Modbus серверу:
   - Адрес: IP-адрес ESP8266
   - Порт: 502

## Возможные проблемы и решения

### ESP8266 не подключается к Wi-Fi
- Проверьте правильность введенного SSID и пароля
- Убедитесь, что сеть Wi-Fi доступна в зоне действия ESP8266
- Проверьте, не блокирует ли роутер подключение новых устройств

### SCADA не может подключиться к Modbus серверу
- Проверьте IP-адрес ESP8266
- Убедитесь, что порт 502 не блокируется брандмауэром
- Проверьте, что ESP8266 и SCADA находятся в одной сети

### Некорректные значения регистров
- Проверьте правильность адресов регистров в SCADA
- Убедитесь, что используете правильные типы данных при чтении/записи